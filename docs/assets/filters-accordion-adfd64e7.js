const l=(s,i)=>{var c;const t=s.closest("form");t&&((c=t.querySelector('input[type="hidden"][name="active_filter"]'))==null||c.setAttribute("value",i||""),t.submit())},a=s=>{s.querySelectorAll('button[type="reset"]').forEach(i=>{i.addEventListener("click",()=>{var c;const t=s.querySelectorAll("input[type=checkbox][name]:checked");t.forEach(o=>{o.removeAttribute("checked"),o.checked=!1}),l(s,(c=t[0])==null?void 0:c.name)})})},d=s=>{s.querySelectorAll("input[data-controls]").forEach(i=>{i.addEventListener("keyup",()=>{const t=i.value.toLowerCase(),{controls:c}=i.dataset;s.querySelectorAll(`input[type=checkbox][name=${c}][value]`).forEach(o=>{var n;const e=o.closest(".checkbox");e&&((n=e==null?void 0:e.textContent)!=null&&n.toLowerCase().includes(t)?e.style.display="":e.style.display="none")})})})},u=s=>{s.querySelectorAll('input[type="checkbox"]').forEach(i=>{i.addEventListener("change",()=>{const{name:t}=i;l(s,t)})})},h=()=>{document.querySelectorAll(".filter-control").forEach(s=>{a(s),u(s),d(s)})},y=()=>{const s=document.querySelectorAll(".accordion li"),i=t=>{var c;(c=t.parentNode)==null||c.querySelectorAll("[aria-selected]").forEach(o=>o.removeAttribute("aria-selected"))};document.querySelectorAll(".accordion li > h3 button").forEach(t=>t.insertAdjacentHTML("beforeend",'<gov-icon key="arrow-down"></gov-icon>')),document.querySelectorAll(".accordion-content").forEach(t=>{const c=`wrapper-${crypto.randomUUID()}`,o=`button-${crypto.randomUUID()}`,e=document.createElement("div"),n=t.parentNode,r=n==null?void 0:n.querySelector("button");e.classList.add("accordion-content-wrapper"),e.setAttribute("id",c),e.setAttribute("role","region"),e.setAttribute("aria-labelledby",o),e==null||e.addEventListener("transitionend",()=>e.setAttribute("style","")),n==null||n.insertBefore(e,t),r==null||r.setAttribute("aria-controls",c),r==null||r.setAttribute("id",o),r==null||r.setAttribute("aria-expanded",new Boolean(r==null?void 0:r.hasAttribute("aria-selected")).toString()),e.appendChild(t)}),s.forEach(t=>{const c=t.querySelector("button"),o=t.querySelector(".accordion-content-wrapper"),e=o==null?void 0:o.querySelector(".accordion-content");c==null||c.addEventListener("click",()=>{const n=c.parentNode;if(n!=null&&n.hasAttribute("aria-selected")){const r=e==null?void 0:e.clientHeight;o==null||o.setAttribute("style",`height:${r}px`),i(t),c.setAttribute("aria-expanded","false")}else{i(t),n.setAttribute("aria-selected","true");const r=e==null?void 0:e.clientHeight;o==null||o.setAttribute("style",`max-height:${r}px`),c.setAttribute("aria-expanded","true")}})})};export{y as a,h as s};
//# sourceMappingURL=filters-accordion-adfd64e7.js.map
