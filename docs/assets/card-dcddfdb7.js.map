{"version":3,"file":"card-dcddfdb7.js","sources":["../../src/components/card.ts"],"sourcesContent":["// This function adds a click event listener to each card element that contains an accordion.\n// It also adds an aria-expanded attribute to the header element of each card with an accordion.\n// The aria-expanded attribute is set to true if the accordion is initially open, and false otherwise.\n// When the header is clicked, the aria-expanded attribute is toggled between true and false.\n\nconst setupCards = () => {\n  document.querySelectorAll<HTMLDivElement>('.card.with-accordion').forEach((card) => {\n    const header = card.querySelector('header')\n    const content = card.querySelector('.content')\n    const id = crypto.randomUUID()\n    const contentId = `content-${id}`\n    const buttonId = `button-${id}`\n    const ariaExpanded = header?.getAttribute('aria-expanded')\n    const open = ariaExpanded === 'true' || ariaExpanded === null\n\n    if (!header || !content) return\n\n    header.setAttribute('role', 'button')\n    header.setAttribute('aria-expanded', Boolean(open).toString())\n    header.setAttribute('aria-controls', contentId)\n    header.setAttribute('id', buttonId)\n\n    content.setAttribute('id', contentId)\n    content.setAttribute('aria-labelledby', buttonId)\n    content.setAttribute('role', 'region')\n\n    header.addEventListener('click', () => {\n      const opened = header.getAttribute('aria-expanded') === 'true'\n      header.setAttribute('aria-expanded', String(!opened))\n    })\n  })\n}\n\nexport default setupCards\n"],"names":["setupCards","card","header","content","id","contentId","buttonId","ariaExpanded","open","opened"],"mappings":"AAKA,MAAMA,EAAa,IAAM,CACvB,SAAS,iBAAiC,sBAAsB,EAAE,QAASC,GAAS,CAC5E,MAAAC,EAASD,EAAK,cAAc,QAAQ,EACpCE,EAAUF,EAAK,cAAc,UAAU,EACvCG,EAAK,OAAO,aACZC,EAAY,WAAWD,IACvBE,EAAW,UAAUF,IACrBG,EAAeL,GAAA,YAAAA,EAAQ,aAAa,iBACpCM,EAAOD,IAAiB,QAAUA,IAAiB,KAErD,CAACL,GAAU,CAACC,IAETD,EAAA,aAAa,OAAQ,QAAQ,EACpCA,EAAO,aAAa,iBAAiB,EAAQM,GAAM,UAAU,EACtDN,EAAA,aAAa,gBAAiBG,CAAS,EACvCH,EAAA,aAAa,KAAMI,CAAQ,EAE1BH,EAAA,aAAa,KAAME,CAAS,EAC5BF,EAAA,aAAa,kBAAmBG,CAAQ,EACxCH,EAAA,aAAa,OAAQ,QAAQ,EAE9BD,EAAA,iBAAiB,QAAS,IAAM,CACrC,MAAMO,EAASP,EAAO,aAAa,eAAe,IAAM,OACxDA,EAAO,aAAa,gBAAiB,OAAO,CAACO,CAAM,CAAC,CAAA,CACrD,EAAA,CACF,CACH"}